var app={};app.loadReason="startup",app.version=function(){return chrome.runtime.getManifest().version},app.homepage=function(){return""},app.tab={open:function(a){chrome.tabs.create({url:a,active:!0})}},chrome.runtime.onMessage.addListener(function(a,b,c){"top"===a.message&&c(b.tab.url)}),app.storage=function(){var a={};return chrome.storage.onChanged.addListener(function(){chrome.storage.local.get(null,function(b){a=b})}),window.setTimeout(function(){chrome.storage.local.get(null,function(b){a=b;var c=document.createElement("script");c.src="/js/common.js",document.body.appendChild(c)})},300),{read:function(b){return a[b]},write:function(b,c){var d={};a[b]=c,d[b]=c,chrome.storage.local.set(d)}}}(),app.button=function(){var a;return chrome.browserAction.onClicked.addListener(function(){a&&a()}),{onCommand:function(b){a=b},set icon(a){chrome.browserAction.setIcon(a)},set label(a){chrome.browserAction.setTitle({title:a})}}}();var config={};config.welcome={set open(a){app.storage.write("support",a)},get version(){return app.storage.read("version")},set version(a){app.storage.write("version",a)},get open(){var a=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");return app.storage.read("support")===void 0?!a:app.storage.read("support")}},config.addon={set state(a){app.storage.write("state",a)},get state(){return app.storage.read("state")===void 0?"light":app.storage.read("state")}},config.addon.state="dark";